<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Xem l·ªãch s·ª≠ ƒë∆°n h√†ng ƒë√£ ƒë·ªìng b·ªô - Shopee Commission Calculator</title>
        <link href="/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
        <style>
            
            body {
                background-color: #fffaf5;
                color: #333;
                font-family: "Segoe UI", sans-serif;
            }

            a {
                text-decoration: none;
            }

            .commission-box {
                background-color: white;
                border-radius: 8px;
                padding: 8px;
                text-align: center;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
                border: 2px solid #f36f21;
                margin-bottom: 15px;
            }

            .xtra-commission {
                background-color: #f36f21;
                color: white;
            }

            .total-commission {
                background-color: #ff8c00;
                color: white;
            }

            .shopee-commission {
                background-color: #ff5722;
                color: white;
            }

            .gmv-stats {
                background-color: #e3f2fd;
                color: #0d47a1;
            }

            .gmv-commission {
                background-color: #ffe1b2;
                color: #333;
            }

            .com-stats {
                background-color: #e8f5e9;
                color: #1b5e20;
            }

            .performance-stats {
                background-color: #fff3e0;
                color: #e65100;
            }

            #captureBtn {
                position: fixed;
                top: 10px;
                right: 10px;
                z-index: 1000;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background-color: #f36f21;
                border: none;
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
            }

            #captureBtn:hover {
                background-color: #e55a0e;
            }

            .toast-notification {
                position: fixed;
                bottom: 20px;
                right: 20px;
                background-color: #28a745;
                color: white;
                padding: 10px 20px;
                border-radius: 6px;
                z-index: 1000;
                animation: fadeInOut 2s ease-in-out forwards;
            }

            @keyframes fadeInOut {
                0% {
                    opacity: 0;
                    transform: translateY(20px);
                }
                20% {
                    opacity: 1;
                    transform: translateY(0);
                }
                80% {
                    opacity: 1;
                    transform: translateY(0);
                }
                100% {
                    opacity: 0;
                    transform: translateY(-20px);
                }
            }

            .filter-section {
                background-color: white;
                border-radius: 8px;
                padding: 8px;
                margin-bottom: 12px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            }

            .stats-card {
                background-color: white;
                border-radius: 8px;
                padding: 8px;
                margin-bottom: 12px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            }

            .table-responsive {
                max-height: 500px;
                overflow-y: auto;
            }

            .nav-tabs .nav-link.active {
                background-color: #f36f21;
                color: white;
                border-color: #f36f21;
            }

            .chart-container {
                position: relative;
                height: 300px;
                width: 100%;
            }

            .tab-content {
                padding: 15px;
                border: 1px solid #dee2e6;
                border-top: none;
                border-radius: 0 0 5px 5px;
            }

            .export-btn {
                background-color: #4caf50;
                color: white;
                padding: 8px 16px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 14px;
                margin-right: 10px;
            }

            .export-btn:hover {
                background-color: #45a049;
            }

            .alert-box {
                padding: 10px;
                margin-bottom: 15px;
                border-radius: 4px;
            }

            .alert-warning {
                background-color: #fff3cd;
                border: 1px solid #ffeeba;
                color: #856404;
            }

            .alert-danger {
                background-color: #f8d7da;
                border: 1px solid #f5c6cb;
                color: #721c24;
            }

            .loading {
                text-align: center;
                padding: 20px;
            }

            .quick-date-btn.active {
                background-color: #0d6efd;
                color: white;
                border-color: #0d6efd;
            }

            .quick-date-btn.active:hover {
                background-color: #0b5ed7;
                border-color: #0a58ca;
            }
        </style>
    </head>
    <body>
        <div class="container mt-4">
            <h2 class="text-center mb-3">Xem l·ªãch s·ª≠ ƒë∆°n h√†ng</h2>
            <div class="text-right mb-2 small text-muted" style="font-size: 13px"><i class="fa-solid fa-calendar-days"></i> Phi√™n b·∫£n: v2.0.0</div>

            <div id="loadingMessage" class="loading">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">ƒêang t·∫£i...</span>
                </div>
                <p class="mt-2">ƒêang t·∫£i d·ªØ li·ªáu...</p>
            </div>

            <div id="noDataMessage" class="alert alert-warning" style="display: none">
                <strong>Ch∆∞a c√≥ d·ªØ li·ªáu!</strong>
                <p class="mb-1">Vui l√≤ng ƒë·ªìng b·ªô d·ªØ li·ªáu t·ª´ trang c√†i ƒë·∫∑t tr∆∞·ªõc.</p>
                <p class="mb-0 small">M·ªü <strong>C√†i ƒë·∫∑t</strong> ‚Üí <strong>ƒê·ªìng b·ªô d·ªØ li·ªáu</strong> ‚Üí Nh·∫•n <strong>ƒê·ªìng b·ªô ngay</strong></p>
                <p class="mt-2 mb-0">
                    <button class="btn btn-sm btn-primary" id="openOptionsBtn">M·ªü trang c√†i ƒë·∫∑t</button>
                </p>
            </div>

            <div id="noFilterResultsMessage" class="alert alert-info p-2" style="display: none">
                <strong>Kh√¥ng c√≥ k·∫øt qu·∫£!</strong>
                <p class="mb-0">Kh√¥ng t√¨m th·∫•y ƒë∆°n h√†ng n√†o ph√π h·ª£p v·ªõi b·ªô l·ªçc b·∫°n ƒë√£ ch·ªçn. Vui l√≤ng th·ª≠ l·∫°i v·ªõi ti√™u ch√≠ kh√°c.</p>
            </div>

            <div id="mainContent" style="display: none">
                <!-- Ph·∫ßn b·ªô l·ªçc -->
                <div class="filter-section">
                    <div class="bg-warning p-2 rounded mb-2">
                        <h6 class="mb-0 small">VIP: L·ªçc theo sub_id</h6>
                    </div>
                    <form id="filterForm">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="start_date">Th·ªùi gian b·∫Øt ƒë·∫ßu:</label>
                                    <input type="date" class="form-control form-control-sm" id="start_date" name="start_date" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="start_time">Gi·ªù b·∫Øt ƒë·∫ßu:</label>
                                    <input type="time" class="form-control form-control-sm" id="start_time" name="start_time" value="00:00" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="end_date">Th·ªùi gian k·∫øt th√∫c:</label>
                                    <input type="date" class="form-control form-control-sm" id="end_date" name="end_date" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="end_time">Gi·ªù k·∫øt th√∫c:</label>
                                    <input type="time" class="form-control form-control-sm" id="end_time" name="end_time" value="23:59" />
                                </div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-12 mb-2">
                                <div class="form-group">
                                    <label class="small">Ch·ªçn nhanh:</label>
                                    <div class="btn-group btn-group-sm" role="group">
                                        <button type="button" class="btn btn-outline-primary quick-date-btn" data-days="1">H√¥m qua</button>
                                        <button type="button" class="btn btn-outline-primary quick-date-btn" data-days="7">7 ng√†y qua</button>
                                        <button type="button" class="btn btn-outline-primary quick-date-btn" data-days="30">30 ng√†y qua</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-6">
                                <div class="form-group small">
                                    <label for="sub_id" class="text-danger">Sub ID (nh·∫≠p ho·∫∑c ch·ªçn t·ª´ <b>t·∫•t c·∫£ c√°c sub_id</b>):</label>
                                    <input list="all_sub_id_list" type="text" class="form-control form-control-sm" id="sub_id" name="sub_id" placeholder="Nh·∫≠p ho·∫∑c ch·ªçn Sub ID b·∫•t k·ª≥" />
                                    <datalist id="all_sub_id_list"></datalist>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group small">
                                    <label for="sub_id_type">L·ªçc sub_id theo t·ª´ng tr∆∞·ªùng: </label>
                                    <select class="form-control mb-2" id="sub_id_type" name="sub_id_type">
                                        <option value="">--Ch·ªçn lo·∫°i sub_id--</option>
                                        <option value="sub_id1">sub_id1</option>
                                        <option value="sub_id2">sub_id2</option>
                                        <option value="sub_id3">sub_id3</option>
                                        <option value="sub_id4">sub_id4</option>
                                        <option value="sub_id5">sub_id5</option>
                                    </select>
                                    <input list="subid_field_list" type="text" class="form-control form-control-sm" id="sub_id_field" name="sub_id_field" placeholder="Nh·∫≠p ho·∫∑c ch·ªçn Sub ID theo t·ª´ng lo·∫°i" />
                                    <datalist id="subid_field_list"></datalist>
                                    <small class="form-text text-muted">B·∫°n ch·ªâ c·∫ßn ƒëi·ªÅn sub_id v√†o 1 √¥: √¥ tr√™n t√¨m t·ª´ t·∫•t c·∫£ sub_id, √¥ d∆∞·ªõi ch·ªçn lo·∫°i sub_id c·ª• th·ªÉ.</small>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-warning btn-sm btn-block px-3 py-1">üëâL·ªçc d·ªØ li·ªáu</button>
                    </form>
                </div>

                <!-- K·∫øt qu·∫£ -->
                <div class="result mt-4" style="min-width: 600px; position: relative" id="result-capture">
                    <button id="captureBtn" title="Ch·ª•p ·∫£nh" style="position: absolute; top: 10px; right: 10px; z-index: 1000;">üåá</button>

                    <h1 class="text-center mb-4">C√¥ng c·ª• t√≠nh hoa h·ªìng Shopee</h1>

                    <!-- Tab hi·ªÉn th·ªã th·ªëng k√™ -->
                    <ul class="nav nav-tabs" id="statsTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="overview-tab" data-bs-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">T·ªïng quan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="gmv-tab" data-bs-toggle="tab" href="#gmv" role="tab" aria-controls="gmv" aria-selected="false">Th·ªëng k√™ GMV</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="commission-tab" data-bs-toggle="tab" href="#commission" role="tab" aria-controls="commission" aria-selected="false">Th·ªëng k√™ hoa h·ªìng</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="performance-tab" data-bs-toggle="tab" href="#performance" role="tab" aria-controls="performance" aria-selected="false">Hi·ªáu su·∫•t</a>
                        </li>
                    </ul>

                    <div class="tab-content" id="statsTabContent">
                        <!-- Tab T·ªïng quan -->
                        <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
                            <div class="row mb-2">
                                <div class="col-4">
                                    <div class="commission-box total-commission">
                                        <span>T·ªïng hoa h·ªìng</span>
                                        <p class="fs-4 mb-0" id="totalCommission">0&nbsp;‚Ç´</p>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="commission-box xtra-commission">
                                        <span>Xtra</span>
                                        <p class="fs-4 mb-0" id="xtraCommission">0&nbsp;‚Ç´</p>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="commission-box shopee-commission">
                                        <span>Shopee</span>
                                        <p class="fs-4 mb-0" id="shopeeCommission">0&nbsp;‚Ç´</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-12">
                                    <div class="commission-box gmv-commission">
                                        <span>T·ªïng GMV</span>
                                        <p class="fs-5 mb-0" id="totalGmv">0&nbsp;‚Ç´</p>
                                    </div>
                                </div>
                            </div>

                            <p class="text-center">Ng√†y: <span id="startDate"></span> <span id="endDate"></span></p>

                            <!-- Th·ªëng k√™ ƒë∆°n -->
                            <table class="table table-bordered table-striped">
                                <thead class="table-light">
                                    <tr>
                                        <th>Lo·∫°i ƒë∆°n h√†ng</th>
                                        <th>S·ªë ƒë∆°n</th>
                                        <th>Hoa h·ªìng</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>T·ªïng</td>
                                        <td id="totalOrders">0 (<span id="orderTotal">0</span> - <span class="badge bg-secondary" id="orderZeroBadge">0</span> - <span class="badge bg-danger" id="orderCancelledBadge">0</span>)</td>
                                        <td id="totalCommissionCell">0&nbsp;‚Ç´</td>
                                    </tr>
                                    <tr>
                                        <td>ƒê∆°n video</td>
                                        <td id="videoOrders">0</td>
                                        <td id="videoCommissionCell">0&nbsp;‚Ç´</td>
                                    </tr>
                                    <tr class="d-none" id="liveOrderRow">
                                        <td>ƒê∆°n live</td>
                                        <td id="liveOrders">0</td>
                                        <td id="liveCommissionCell">0&nbsp;‚Ç´</td>
                                    </tr>
                                    <tr>
                                        <td>ƒê∆°n social</td>
                                        <td id="socialOrders">0</td>
                                        <td id="socialCommissionCell">0&nbsp;‚Ç´</td>
                                    </tr>
                                    <tr>
                                        <td>ƒê∆°n 0ƒë</td>
                                        <td id="zeroCommissionOrders"><span class="badge bg-warning text-dark">0</span></td>
                                        <td id="zeroCommissionCell">0&nbsp;‚Ç´</td>
                                    </tr>
                                    <tr class="d-none" id="unpaidOrderRow">
                                        <td>ƒê∆°n ch∆∞a thanh to√°n</td>
                                        <td id="unpaidOrders">0</td>
                                        <td>-</td>
                                    </tr>
                                    <tr class="d-none" id="canceledOrderRow">
                                        <td>ƒê∆°n h·ªßy</td>
                                        <td id="canceledOrders">0</td>
                                        <td id="canceledCommissionCell">0&nbsp;‚Ç´</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Tab Th·ªëng k√™ GMV -->
                        <div class="tab-pane fade" id="gmv" role="tabpanel" aria-labelledby="gmv-tab">
                            <div class="stats-card p-3" style="background: #e3f2fd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07)">
                                <h6 class="mb-3" style="font-weight: 700; color: #0d47a1"><i class="bi bi-currency-dollar"></i> Th·ªëng k√™ GMV</h6>
                                <div class="row text-center">
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm gmv-stats">
                                            <div class="h6 font-weight-bold">T·ªïng GMV</div>
                                            <div class="h4" id="gmvTotal">0 ‚Ç´</div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm gmv-stats">
                                            <div class="h6 font-weight-bold">Gi√° tr·ªã ƒë∆°n h√†ng trung b√¨nh</div>
                                            <div class="h4" id="gmvAverage">0 ‚Ç´</div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm gmv-stats">
                                            <div class="h6 font-weight-bold">GMV theo k√™nh</div>
                                            <div class="mt-2">
                                                <div>Video: <span id="gmvVideo">0</span> ‚Ç´</div>
                                                <div>Live: <span id="gmvLive">0</span> ‚Ç´</div>
                                                <div>Social: <span id="gmvSocial">0</span> ‚Ç´</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Bi·ªÉu ƒë·ªì GMV theo ng√†y -->
                                <div class="mt-4">
                                    <h6>GMV theo ng√†y</h6>
                                    <div class="chart-container">
                                        <canvas id="gmvByDayChart"></canvas>
                                    </div>
                                </div>

                                <!-- Bi·ªÉu ƒë·ªì GMV theo gi·ªù -->
                                <div class="mt-4">
                                    <h6>GMV theo gi·ªù trong ng√†y</h6>
                                    <div class="chart-container">
                                        <canvas id="gmvByHourChart"></canvas>
                                    </div>
                                </div>

                                <!-- Bi·ªÉu ƒë·ªì GMV theo danh m·ª•c -->
                                <div class="mt-4">
                                    <h6>GMV theo danh m·ª•c s·∫£n ph·∫©m</h6>
                                    <div class="chart-container">
                                        <canvas id="gmvByCategoryChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Th·ªëng k√™ hoa h·ªìng -->
                        <div class="tab-pane fade" id="commission" role="tabpanel" aria-labelledby="commission-tab">
                            <div class="stats-card p-3" style="background: #e8f5e9; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07)">
                                <h6 class="mb-3" style="font-weight: 700; color: #1b5e20"><i class="bi bi-cash-stack"></i> Th·ªëng k√™ hoa h·ªìng</h6>
                                <div class="row text-center">
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm com-stats">
                                            <div class="h6 font-weight-bold">T·ªïng hoa h·ªìng</div>
                                            <div class="h4" id="comTotal">0 ‚Ç´</div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm com-stats">
                                            <div class="h6 font-weight-bold">Hoa h·ªìng trung b√¨nh/ƒë∆°n</div>
                                            <div class="h4" id="comAverage">0 ‚Ç´</div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm com-stats">
                                            <div class="h6 font-weight-bold">Hoa h·ªìng theo k√™nh</div>
                                            <div class="mt-2">
                                                <div>Video: <span id="comVideo">0</span> ‚Ç´</div>
                                                <div>Live: <span id="comLive">0</span> ‚Ç´</div>
                                                <div>Social: <span id="comSocial">0</span> ‚Ç´</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row text-center mt-3">
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm com-stats">
                                            <div class="h6 font-weight-bold">T·ª∑ l·ªá Xtra</div>
                                            <div class="h4" id="comXtraRate">0%</div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm com-stats">
                                            <div class="h6 font-weight-bold">T·ª∑ l·ªá Shopee</div>
                                            <div class="h4" id="comShopeeRate">0%</div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="p-3 border rounded shadow-sm com-stats">
                                            <div class="h6 font-weight-bold">T·ª∑ l·ªá hoa h·ªìng</div>
                                            <div class="h4" id="comRate">0%</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Bi·ªÉu ƒë·ªì hoa h·ªìng theo ng√†y -->
                                <div class="mt-4">
                                    <h6>Hoa h·ªìng theo ng√†y</h6>
                                    <div class="chart-container">
                                        <canvas id="comByDayChart"></canvas>
                                    </div>
                                </div>

                                <!-- Bi·ªÉu ƒë·ªì hoa h·ªìng theo gi·ªù -->
                                <div class="mt-4">
                                    <h6>Hoa h·ªìng theo gi·ªù trong ng√†y</h6>
                                    <div class="chart-container">
                                        <canvas id="comByHourChart"></canvas>
                                    </div>
                                </div>

                                <!-- Bi·ªÉu ƒë·ªì hoa h·ªìng theo danh m·ª•c -->
                                <div class="mt-4">
                                    <h6>Hoa h·ªìng theo danh m·ª•c s·∫£n ph·∫©m</h6>
                                    <div class="chart-container">
                                        <canvas id="comByCategoryChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Hi·ªáu su·∫•t -->
                        <div class="tab-pane fade" id="performance" role="tabpanel" aria-labelledby="performance-tab">
                            <div class="stats-card p-3" style="background: #fff3e0; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07)">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="p-3 border rounded shadow-sm performance-stats">
                                            <div class="h6 font-weight-bold">Top s·∫£n ph·∫©m hi·ªáu su·∫•t cao</div>
                                            <div class="mt-3" id="topProductsList">
                                                <p>Ch∆∞a c√≥ d·ªØ li·ªáu</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="p-3 border rounded shadow-sm performance-stats">
                                            <div class="h6 font-weight-bold">S·∫£n ph·∫©m hi·ªáu su·∫•t th·∫•p</div>
                                            <div class="mt-3" id="lowProductsList">
                                                <p>Ch∆∞a c√≥ d·ªØ li·ªáu</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- C·∫£nh b√°o hi·ªáu su·∫•t -->
                                <div class="mt-4">
                                    <h6>C·∫£nh b√°o hi·ªáu su·∫•t</h6>
                                    <div id="performanceWarnings"></div>
                                </div>

                                <!-- C√¥ng c·ª• xu·∫•t b√°o c√°o -->
                                <div class="mt-4">
                                    <h6>Xu·∫•t b√°o c√°o</h6>
                                    <div class="d-flex">
                                        <button class="export-btn" id="exportCSVBtn">Xu·∫•t CSV</button>
                                        <button class="export-btn" id="exportJSONBtn">Xu·∫•t JSON</button>
                                        <button class="export-btn" id="printReportBtn">In b√°o c√°o</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-4" style="min-width: 600px; position: relative">
                    <!-- Bi·ªÉu ƒë·ªì -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="stats-card">
                                <h6>Bi·ªÉu ƒë·ªì hoa h·ªìng</h6>
                                <div class="chart-container">
                                    <canvas id="commissionChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="stats-card">
                                <h6>Bi·ªÉu ƒë·ªì lo·∫°i ƒë∆°n h√†ng</h6>
                                <div class="chart-container">
                                    <canvas id="orderTypeChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 mt-2">
                            <div class="stats-card">
                                <h6>Bi·ªÉu ƒë·ªì theo k√™nh b√°n h√†ng</h6>
                                <div class="chart-container" style="height: 350px">
                                    <canvas id="channelChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- B·∫£ng shop v√† s·∫£n ph·∫©m -->
                    <div class="row">
                        <div class="col-12">
                            <div class="stats-card">
                                <h6>üèÜ Shop c√≥ nhi·ªÅu ƒë∆°n nh·∫•t</h6>
                                <ul class="list-group" id="topShopsList"></ul>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="stats-card">
                                <h6>üî• Top 5 s·∫£n ph·∫©m n·ªïi b·∫≠t</h6>
                                <ul class="list-group" id="topProductsList2"></ul>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="stats-card">
                                <h6>üèÖ Top 10 SubID ƒê√≥ng G√≥p ƒê∆°n Nhi·ªÅu Nh·∫•t</h6>
                                <ul class="list-group" id="topSubIdsList"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <!-- B·∫£ng chi ti·∫øt ƒë∆°n h√†ng v·ªõi DataTables -->
                    <style>
                        .dt-card {
                            background: #fff;
                            border-radius: 8px;
                            padding: 8px;
                            margin-bottom: 8px;
                            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
                        }

                        .dt-label {
                            font-weight: 500;
                            margin-bottom: 10px;
                        }

                        .table thead th {
                            white-space: nowrap;
                        }
                    </style>

                    <div class="stats-card dt-card">
                        <h6 class="dt-label">Chi ti·∫øt ƒë∆°n h√†ng</h6>
                        <ul class="nav nav-tabs" id="orderTab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="all-tab" data-bs-toggle="tab" href="#tab-all" role="tab" aria-controls="tab-all" aria-selected="true"> T·∫•t c·∫£ (<span id="allOrdersCount">0</span>) </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="pending-tab" data-bs-toggle="tab" href="#tab-pending" role="tab" aria-controls="tab-pending" aria-selected="false"> ƒêang ch·ªù x·ª≠ l√Ω </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="cancelled-tab" data-bs-toggle="tab" href="#tab-cancelled" role="tab" aria-controls="tab-cancelled" aria-selected="false"> ƒê√£ h·ªßy </a>
                            </li>
                        </ul>
                        <div class="tab-content mt-2 small" id="orderTabContent">
                            <div class="tab-pane fade show active" id="tab-all" role="tabpanel" aria-labelledby="all-tab">
                                <div class="table-responsive" style="max-height: 90vh">
                                    <table id="orders-table-all" class="table table-bordered table-hover" style="width: 100%">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>ID ƒë∆°n h√†ng</th>
                                                <th>T√™n Shop</th>
                                                <th style="min-width: 250px">T√™n Item</th>
                                                <th>Gi√° tr·ªã ƒë∆°n(‚Ç´)</th>
                                                <th>S·ªë l∆∞·ª£ng</th>
                                                <th>T·ªïng hoa h·ªìng(‚Ç´)</th>
                                                <th>Tr·∫°ng th√°i</th>
                                                <th>K√™nh</th>
                                                <th>SubID1</th>
                                                <th>SubID2</th>
                                                <th>SubID3</th>
                                                <th>SubID4</th>
                                                <th>SubID5</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab-pending" role="tabpanel" aria-labelledby="pending-tab">
                                <div class="table-responsive">
                                    <table id="orders-table-pending" class="table table-bordered table-hover" style="width: 100%">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>ID ƒë∆°n h√†ng</th>
                                                <th>T√™n Shop</th>
                                                <th style="min-width: 250px">T√™n Item</th>
                                                <th>Gi√°(‚Ç´)</th>
                                                <th>S·ªë l∆∞·ª£ng</th>
                                                <th>T·ªïng hoa h·ªìng(‚Ç´)</th>
                                                <th>Tr·∫°ng th√°i</th>
                                                <th>K√™nh</th>
                                                <th>SubID1</th>
                                                <th>SubID2</th>
                                                <th>SubID3</th>
                                                <th>SubID4</th>
                                                <th>SubID5</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab-cancelled" role="tabpanel" aria-labelledby="cancelled-tab">
                                <div class="table-responsive">
                                    <table id="orders-table-cancelled" class="table table-bordered table-hover" style="width: 100%">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>ID ƒë∆°n h√†ng</th>
                                                <th>T√™n Shop</th>
                                                <th style="min-width: 250px">T√™n Item</th>
                                                <th>Gi√°(‚Ç´)</th>
                                                <th>S·ªë l∆∞·ª£ng</th>
                                                <th>T·ªïng hoa h·ªìng(‚Ç´)</th>
                                                <th>Tr·∫°ng th√°i</th>
                                                <th>K√™nh</th>
                                                <th>SubID1</th>
                                                <th>SubID2</th>
                                                <th>SubID3</th>
                                                <th>SubID4</th>
                                                <th>SubID5</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="/js/jquery.min.js"></script>
        <script src="/js/bootstrap.bundle.min.js"></script>
        <script src="/js/jquery.dataTables.min.js"></script>
        <script src="/js/dataTables.bootstrap5.min.js"></script>
        <script src="/js/chart.js"></script>
        <script src="/js/chartjs-plugin-datalabels.min.js"></script>
        <script src="/js/html2canvas.min.js"></script>
        <script src="/js/processOrderData.js"></script>
        <script src="/js/order-history.js"></script>
    </body>
</html>
